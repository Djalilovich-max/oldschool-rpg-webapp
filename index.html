<!DOCTYPE html>

<html lang="ru">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Aria RPG</title>
<style>
    body {
  margin: 0;
  padding: 0;
  background: url('–ù–æ–≤—ã–π —Ç–æ—á–µ—á–Ω—ã–π —Ä–∏—Å—É–Ω–æ–∫.bmp') no-repeat center center fixed;
  background-size: cover;
  font-family: sans-serif;
  color: white;
  height: 100vh;
}
    .left, .middle, .right {
      padding: 10px;
    }
    .player-interface {
      display: flex;
      flex-direction: column;
      align-items: center;
      padding: 10px;
    }
    .hp-bar {
      width: 200px;
      height: 12px;
      background: #900;
      border: 1px solid #000;
      margin-bottom: 10px;
      position: relative;
    }
    .hp-bar .hp-fill {
      background: #0f0;
      height: 100%;
      width: 70%;
    }
    .main-layout {
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 20px;
    }
    .left-panel, .right-panel {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: space-between;
      height: 260px;
    }
    .left-panel img, .right-panel img {
      width: 48px;
      height: 48px;
      border: 1px solid #caa;
      background: #222;
    }
    .left-panel img[alt="–°–µ—Ä—å–≥–∏"],
    .left-panel img[alt="–û–∂–µ—Ä–µ–ª—å–µ"],
    .rings img {
      width: 36px;
      height: 36px;
    }
    .rings {
      display: flex;
      gap: 4px;
    }
    .character-wrapper {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 5px;
    }
    .character-wrapper img {
      width: 100px;
      height: auto;
    }
    .potions, .scrolls {
      display: flex;
      gap: 4px;
    }
    .potions img, .scrolls img {
      width: 28px;
      height: 28px;
    }
    .stats-panel {
      background: rgba(0,0,0,0.5);
      padding: 5px 8px;
      border: 1px solid #555;
      border-radius: 4px;
      font-size: 13px;
      line-height: 1.4;
      text-align: left;
      margin-top: 10px;
      max-height: 300px;
      overflow-y: auto;
    }
    .stats-panel p {
      margin: 4px 0;
    }
    .stats-panel hr {
      border: none;
      border-top: 1px solid #666;
      margin: 6px 0;
    }
    .middle {
      display: flex;
      flex-direction: column;
      justify-content: space-between;
    }
    .battle-area {
      background-color: rgba(0, 0, 0, 0.6);
      border: 1px solid #444;
      border-radius: 10px;
      padding: 15px;
      height: 240px;
      text-align: center;
      font-size: 18px;
    }
    .system-log {
      background-color: rgba(10, 10, 10, 0.7);
      border: 1px solid #222;
      border-radius: 10px;
      padding: 10px;
      font-size: 14px;
      overflow-y: auto;
      margin-top: 10px;
    }
    .right {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }
    .block {
      background-color: rgba(0,0,0,0.5);
      padding: 8px;
      border: 1px solid #555;
      border-radius: 5px;
    }
      .lower-block {
      display: flex;
      gap: 10px;
      align-items: flex-start;
      margin-top: 10px;
    }
    #interface-wrapper {
      display: grid;
      grid-template-columns: 1fr 2fr 1fr;
      grid-template-rows: auto 1fr auto;
      gap: 10px;
      height: 100vh;
    }
</style>
</head>
<body>
<div id="interface-wrapper">
<section class="left player-interface" id="player">
<h1>[–ù–∏–∫]</h1>
<div class="hp-bar"><div class="hp-fill"></div></div>
<div class="main-layout">
<div class="left-panel" data-section="equipment" id="player-equipment">
<img alt="–°–µ—Ä—å–≥–∏" src="Data/Images/img_item/e-09.gif"/>
<img alt="–û–∂–µ—Ä–µ–ª—å–µ" src="Data/Images/img_item/e-10.gif"/>
<img alt="–û—Ä—É–∂–∏–µ" src="Data/Images/img_item/e-11.gif"/>
<img alt="–ë—Ä–æ–Ω—è" src="Data/Images/img_item/e-12.gif"/>
<div class="rings">
<img alt="–ö–æ–ª—å—Ü–æ 1" src="Data/Images/img_item/e-13.gif"/>
<img alt="–ö–æ–ª—å—Ü–æ 2" src="Data/Images/img_item/e-14.gif"/>
<img alt="–ö–æ–ª—å—Ü–æ 3" src="Data/Images/img_item/e-15.gif"/>
</div>
</div>
<div class="character-wrapper" data-section="skin" id="player-skin">
<img alt="–°–∫–∏–Ω" src="Data/Images/newobraz/m-001.gif"/>
<div class="potions">
<img src="Data/Images/img_item/e-02.gif"/>
<img src="Data/Images/img_item/e-03.gif"/>
<img src="Data/Images/img_item/e-04.gif"/>
</div>
<div class="scrolls">
<img src="Data/Images/img_item/e-06.gif"/>
<img src="Data/Images/img_item/e-07.gif"/>
<img src="Data/Images/img_item/e-08.gif"/>
</div>
</div>
<div class="lower-block">
<div class="right-panel" data-section="defense" id="player-defense">
<img alt="–®–ª–µ–º" src="Data/Images/img_item/e-16.gif">
<img alt="–©–∏—Ç" src="Data/Images/img_item/e-17.gif">
<img alt="–ü–µ—Ä—á–∞—Ç–∫–∏" src="Data/Images/img_item/e-18.gif">
<img alt="–ë–æ—Ç–∏–Ω–∫–∏" src="Data/Images/img_item/e-19.gif">
</img></img></img></img></div>
<div class="stats-panel" data-section="stats" id="player-stats">
<p><strong>üß¨ –£—Ä–æ–≤–µ–Ω—å:</strong></p>
<p><strong>üèÜ –ü–æ–±–µ–¥—ã:</strong></p>
<p><strong>üíÄ –ü–æ—Ä–∞–∂–µ–Ω–∏—è:</strong></p>
<p><strong>‚öñÔ∏è –ù–∏—á—å–∏:</strong></p>
<hr/>
<p><strong>üí™ –°–∏–ª–∞:</strong></p>
<p><strong>ü§∏ –õ–æ–≤–∫–æ—Å—Ç—å:</strong></p>
<p><strong>üß† –ò–Ω—Ç—É–∏—Ü–∏—è:</strong></p>
<p><strong>‚ù§Ô∏è –í—ã–Ω–æ—Å–ª–∏–≤–æ—Å—Ç—å:</strong></p>
<hr/>
<p><strong>üõ°Ô∏è –ë—Ä–æ–Ω—è:</strong><br/>ü™ñ –ì–æ–ª–æ–≤—ã:<br/>üëï –¢–µ–ª–∞:<br/>ü•æ –ù–æ–≥:</p>
<hr/>
<p><strong>‚öîÔ∏è –í–ª–∞–¥–µ–Ω–∏–µ –æ—Ä—É–∂–∏–µ–º:</strong><br/>üó°Ô∏è –ú–µ—á–∏:<br/>üî® –î—É–±–∏–Ω—ã –∏ –±—É–ª–∞–≤—ã:<br/>ü™ì –¢–æ–ø–æ—Ä—ã:<br/>üó°Ô∏è –ö–∏–Ω–∂–∞–ª—ã:</p>
<hr/>
<p><strong>üõ†Ô∏è –°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:</strong><br/>‚õèÔ∏è –†—É–¥–æ–∫–æ–ø:<br/>üé£ –†—ã–±–∞–∫:<br/>ü™µ –ü–ª–æ—Ç–Ω–∏–∫:<br/>‚öóÔ∏è –ê–ª—Ö–∏–º–∏–∫:<br/>üåæ –§–µ—Ä–º–µ—Ä:<br/>üå≤ –õ–µ—Å–æ—Ä—É–±:<br/>üç≥ –ü–æ–≤–∞—Ä:<br/>üíä –õ–µ–∫–∞—Ä—å:</p>
</div>
</div>
</div></section>
<section class="middle" id="arena" style="grid-column: 2;">
<div class="battle-area" data-section="arena" id="battle-area"></div>
<div class="system-log" data-section="log" id="battle-log"></div>
</section>

<aside class="right" id="side-panel" style="grid-column: 3; grid-row: 1 / span 2;">
<div class="block" data-section="map" id="map">
<strong>–ö–∞—Ä—Ç–∞:</strong>
</div>
<div class="block" data-section="players" id="location-users">
<strong>–ò–≥—Ä–æ–∫–∏ –≤ –ª–æ–∫–∞—Ü–∏–∏:</strong>
</div>
<div class="block" data-section="chat" id="chat">
<strong>–ß–∞—Ç:</strong>
<input placeholder="–í–≤–µ–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ..." type="text"/>
</div>
</aside>
</div>
<script src="https://telegram.org/js/telegram-web-app.js"></script>


<script>
window.addEventListener("DOMContentLoaded", function () {
  const tg = window.Telegram.WebApp;
  const initData = tg.initDataUnsafe;

  if (!initData || !initData.user) return;

  const userId = initData.user.id;
  const username = initData.user.username || initData.user.first_name;

  fetch("http://127.0.0.1:5000/get_player", {
    method: "POST",
    headers: { "Content-Type": "application/json" },
    body: JSON.stringify({ telegram_id: userId, nickname: username })
  })
  .then(res => res.json())
  .then(player => {
    document.querySelector("h1").innerText = `[${player.nickname}]`;
    console.log("–ó–∞–≥—Ä—É–∂–µ–Ω –ø–µ—Ä—Å–æ–Ω–∞–∂:", player.nickname);
  });
});
</script>
</body>
</html>
